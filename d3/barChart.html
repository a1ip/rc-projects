<!DOCTYPE html>

<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>

        <style>

        .chart div, .badchart div {
          font: 10px sans-serif;
          background-color: steelblue;
          text-align: right;
          padding: 3px;
          margin: 1px;
          color: white;
        }

        </style>
    </head>

    <body>
        <!-- <div class="badchart">
          <div style="width: 40px;">4</div>
          <div style="width: 80px;">8</div>
          <div style="width: 150px;">15</div>
          <div style="width: 160px;">16</div>
          <div style="width: 230px;">23</div>
          <div style="width: 420px;">42</div>
        </div> -->

        <div class="chart"></div>

        <script>

            var chartData = [4, 8, 15, 16, 23, 42]; //data for chart

            // Long form
            // var chart = d3.select(".chart");
            // var bar = chart.selectAll("div");
            // var barUpdate = bar.data(chartData);
            // var barEnter = barUpdate.enter().append("div");
            // barEnter.style("width", function(d) { return d * 10 + "px"; });
            // barEnter.text(function(d) { return d; });

            var scaledWidth = d3.scale.linear() //scales data ranges linearly
                .domain([0, d3.max(chartData)]) //data space
                .range([0, 1000]); //display space


            d3.select(".chart") //returns selection of chart div
              .selectAll("div") //Initiates Data Join, returns empty selection
                .data(chartData) //Updates selection with data, returns update selection (empty)
              .enter().append("div") //Handles enter selection, creates new div for each new data point
                .style("width", function(d) { return scaledWidth(d) + "px"; }) //Uses scaledWidth to set width of bar
                .text(function(d) { return d; }); //Displays the value as a label

        </script>
    </body>
</html>
