<!DOCTYPE html>
<html>
<head>
<title>The Game of Life</title>

<style>
    body {
        font-family: sans-serif;
        background-color: #196464;
        color: white;
    }

    main {
        /*max-width: 90%;*/
        margin: 0 auto;
    }

    h1 {
        text-align: center;
        /*
        float:left;
        margin-bottom:20px;
        */
    }

    #controls {
        margin: 10px auto;
        text-align: center;
    }

    #grid {
        background-color: white;
        margin: 0 auto;
        height: 75vh;
        /*padding: 5px;*/
    }

    .row {
        /*border: 1px solid red;*/
        overflow: auto;
    }

    .cell {
        margin: 0px;
        padding: 0px;
        /*width: 50px;*/
        /*height: 100%;*/
        /*border: 1px solid black;*/
        float:left;
    }

    .alive {
        background-color: black;
    }

</style>

</head>

<body>

    <main>
        <h1>The Game of Life</h1>


        <div id="controls">
            <form>
                Columns: <input type="number" name="columns" min="2" max="50" value="10">
                Rows: <input type="number" name="rows" min="2" max="50" value="10">
                <button type="button" name="resize" onclick="resizeGrid(columns.value, rows.value)">Resize grid</button>
            </form>
            <p>
                <button type="button" name="clear" onclick="clearGrid()">Clear grid</button>
                <button type="button" name="fill" onclick="fillGrid()">Fill grid</button>
                <button type="button" name="random" onclick="randomValues()">Random values</button>
                <button type="button" name="evolve">Evolve</button></p>
        </div>

        <div id="grid">
            <!--div class="cell"></div-->
        </div>


    </main>


    <script>
        resizeGrid(10, 10);

        function resizeGrid(cols, rows) {
            console.log("C: " + String(cols));
            console.log("R: " + String(rows));

            var grid = document.getElementById("grid");

            var cellWidth = 1 / cols * 100;
            console.log("cellWidth: " + String(cellWidth));

            var cellHeight = 1 / rows * 100;
            console.log("cellHeight: " + String(cellHeight));

            // Clear grid completely
            while (grid.lastChild) {
              grid.removeChild(grid.lastChild);
            }

            // Insert row divs
            for (var r = 0; r < rows; r++) {
                var thisRow = document.createElement("div");
                thisRow.className = "row";
                thisRow.style.height = String(cellHeight) + "%";
                grid.appendChild(thisRow);

                // Insert cell divs
                for (var c = 0; c < cols; c++) {
                    var thisCell = document.createElement("div");
                    thisCell.classList.add("cell");
                    thisCell.id = "c" + String(c) + "r" + String(r)
                    thisCell.style.width = String(cellWidth) + "%";
                    thisCell.style.height = "100%";
                    thisCell.onclick = function() { this.classList.toggle("alive"); };
                    thisRow.appendChild(thisCell);


                    if (r % 2 === 0 && c % 2 === 0 || r % 2 === 1 && c %2 === 1) {
                        thisCell.classList.add("alive");
                    }
                }
            }


        }


        function clearGrid() {
            var allCells = document.getElementsByClassName("cell");
            for (var i = 0; i < allCells.length; i++) {
                allCells[i].classList.remove("alive");
            }
        }

        function fillGrid() {
            var allCells = document.getElementsByClassName("cell");
            for (var i = 0; i < allCells.length; i++) {
                allCells[i].classList.add("alive");
            }
        }

        function randomValues() {
            var allCells = document.getElementsByClassName("cell");
            for (var i = 0; i < allCells.length; i++) {
                var randomBool = Math.random() >= 0.5;
                allCells[i].classList.toggle("alive", randomBool);
            }
        }




    </script>
</body>

</html>
